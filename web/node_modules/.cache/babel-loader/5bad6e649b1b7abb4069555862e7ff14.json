{"remainingRequest":"/Users/ttss/respository/nature language/vchat-master/node_modules/babel-loader/lib/index.js!/Users/ttss/respository/nature language/vchat-master/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/ttss/respository/nature language/vchat-master/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ttss/respository/nature language/vchat-master/src/views/index/components/groups.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/ttss/respository/nature language/vchat-master/src/views/index/components/groups.vue","mtime":1597310728000},{"path":"/Users/ttss/respository/nature language/vchat-master/node_modules/cache-loader/dist/cjs.js","mtime":1677266736571},{"path":"/Users/ttss/respository/nature language/vchat-master/node_modules/babel-loader/lib/index.js","mtime":1677266736718},{"path":"/Users/ttss/respository/nature language/vchat-master/node_modules/cache-loader/dist/cjs.js","mtime":1677266736571},{"path":"/Users/ttss/respository/nature language/vchat-master/node_modules/vue-loader/lib/index.js","mtime":1677266736893}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgY3JlYXRlR3JvdXAsIGdldEdyb3VwIH0gZnJvbSAiLi4vLi4vLi4vYXBpL2dyb3VwIjsKaW1wb3J0IHsgY2hlY2tHcm91cE5hbWUgfSBmcm9tICIuLi8uLi8uLi91dGlscy9jaGVjayI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2hvdzogZmFsc2UsCiAgICAgIG5hbWU6ICcnLAogICAgICBsaXN0OiBbXSwKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIGZpbmlzaGVkOiBmYWxzZSwKICAgICAgc2VhcmNoVmFsdWU6ICcnCiAgICB9OwogIH0sCgogIG1vdW50ZWQoKSB7fSwKCiAgbWV0aG9kczogewogICAgb25Mb2FkKCkgewogICAgICBnZXRHcm91cCgpLnRoZW4ocmVzID0+IHsKICAgICAgICBpZiAocmVzLnN0YXR1cyA9PT0gdHJ1ZSkgewogICAgICAgICAgdGhpcy5saXN0ID0gcmVzLmRhdGEuZ3JvdXBzOwogICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgIHRoaXMuZmluaXNoZWQgPSB0cnVlOwogICAgICAgICAgfSwgODAwKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKCiAgICByZWZyZXNoKCkgewogICAgICBsb2NhdGlvbi5yZWxvYWQoKTsKICAgIH0sCgogICAgb25TdWJtaXQoKSB7CiAgICAgIGlmIChjaGVja0dyb3VwTmFtZSh0aGlzLm5hbWUudmFsdWVPZigpKS52YWx1ZU9mKCkpIHsKICAgICAgICBjcmVhdGVHcm91cCh0aGlzLm5hbWUudmFsdWVPZigpKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICBpZiAocmVzLnN0YXR1cyA9PT0gdHJ1ZSkgewogICAgICAgICAgICB0aGlzLm9uTG9hZCgpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIHRoaXMuc2hvdyA9IGZhbHNlOwogICAgICAgIHRoaXMubmFtZSA9ICcnOwogICAgICB9CiAgICB9LAoKICAgIG9wZW5DaGF0KGlkKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvZ3JvdXBDaGF0LycgKyBpZCk7CiAgICB9CgogIH0KfTs="},{"version":3,"sources":["groups.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2DA,SAAA,WAAA,EAAA,QAAA,QAAA,oBAAA;AACA,SAAA,cAAA,QAAA,sBAAA;AAEA,eAAA;AACA,EAAA,IAAA,GAAA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,KADA;AAEA,MAAA,IAAA,EAAA,EAFA;AAGA,MAAA,IAAA,EAAA,EAHA;AAIA,MAAA,OAAA,EAAA,KAJA;AAKA,MAAA,QAAA,EAAA,KALA;AAMA,MAAA,WAAA,EAAA;AANA,KAAA;AAQA,GAVA;;AAYA,EAAA,OAAA,GAAA,CAEA,CAdA;;AAeA,EAAA,OAAA,EAAA;AACA,IAAA,MAAA,GAAA;AACA,MAAA,QAAA,GAAA,IAAA,CAAA,GAAA,IAAA;AACA,YAAA,GAAA,CAAA,MAAA,KAAA,IAAA,EAAA;AACA,eAAA,IAAA,GAAA,GAAA,CAAA,IAAA,CAAA,MAAA;AACA,UAAA,UAAA,CAAA,MAAA;AACA,iBAAA,QAAA,GAAA,IAAA;AACA,WAFA,EAEA,GAFA,CAAA;AAGA;AACA,OAPA;AAQA,KAVA;;AAYA,IAAA,OAAA,GAAA;AACA,MAAA,QAAA,CAAA,MAAA;AACA,KAdA;;AAgBA,IAAA,QAAA,GAAA;AACA,UAAA,cAAA,CAAA,KAAA,IAAA,CAAA,OAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA;AACA,QAAA,WAAA,CAAA,KAAA,IAAA,CAAA,OAAA,EAAA,CAAA,CAAA,IAAA,CAAA,GAAA,IAAA;AACA,cAAA,GAAA,CAAA,MAAA,KAAA,IAAA,EAAA;AACA,iBAAA,MAAA;AACA;AACA,SAJA;AAKA,aAAA,IAAA,GAAA,KAAA;AACA,aAAA,IAAA,GAAA,EAAA;AACA;AAEA,KA3BA;;AA6BA,IAAA,QAAA,CAAA,EAAA,EAAA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,gBAAA,EAAA;AACA;;AA/BA;AAfA,CAAA","sourcesContent":["<template>\n    <div>\n        <van-nav-bar class=\"index-header\" :border=false>\n            <template #left>\n                <h1>Chats</h1>\n            </template>\n            <template #right>\n                <van-button\n                        @click=\"refresh\"\n                        :round=\"true\"\n                        color=\"linear-gradient(to right, #4bb0ff, #6149f6)\"\n                        size=\"small\">\n                    <van-icon name=\"plus\" style=\"font-weight: 700;\" color=\"#FFFFFF\"/>\n                    <b style=\"color: #d4f3ef;padding-left: 3px;margin-top: -10px\">Refresh</b>\n                </van-button>\n            </template>\n        </van-nav-bar>\n        <van-contact-card\n                add-text=\"新建群聊\"\n                @click=\"show = true\"\n        />\n        <van-popup v-model=\"show\" position=\"left\" :style=\"{ width: '50%',height: '100%' }\">\n            <van-form @submit=\"onSubmit\" style=\"margin-top: 50px\">\n                <van-field\n                        v-model=\"name\"\n                        placeholder=\"群聊名称\"\n                        :rules=\"[{ required: true, message: '请填写群聊名称' }]\"\n                />\n                <div style=\"margin: 16px;\">\n                    <van-button round block type=\"info\" native-type=\"submit\">\n                        提交\n                    </van-button>\n                </div>\n            </van-form>\n        </van-popup>\n        <van-list\n                class=\"user-list\"\n                style=\"margin-top: 20px\"\n                v-model=\"loading\"\n                :finished=\"finished\"\n                finished-text=\"没有更多了\"\n                @load=\"onLoad\"\n        >\n            <div v-for=\"(item,index) in list\" :key=\"index\" class=\"user-list-item\" @click=\"openChat(item.id)\">\n                <van-icon\n                        style=\"margin-right: 3px;\"\n                        name=\"https://img.yzcdn.cn/vant/cat.jpeg\"\n                        size=\"50\"/>\n                <div style=\"margin-top: 8px\">\n                    <div class=\"item-user-nickname\">{{item.name}}</div>\n                    <div class=\"item-user-time\">{{item.time}}</div>\n                    <div class=\"item-user-des\">成员 ({{item.number}})</div>\n                </div>\n            </div>\n        </van-list>\n    </div>\n</template>\n\n<script>\n    import {createGroup, getGroup} from \"../../../api/group\";\n    import {checkGroupName} from \"../../../utils/check\";\n\n    export default {\n        data() {\n            return {\n                show: false,\n                name: '',\n                list: [],\n                loading: false,\n                finished: false,\n                searchValue: ''\n            };\n        },\n\n        mounted() {\n\n        },\n        methods: {\n            onLoad() {\n                getGroup().then((res) => {\n                    if (res.status === true) {\n                        this.list = res.data.groups\n                        setTimeout(() => {\n                            this.finished = true\n                        }, 800)\n                    }\n                })\n            },\n\n            refresh() {\n                location.reload();\n            },\n\n            onSubmit() {\n                if (checkGroupName(this.name.valueOf()).valueOf()) {\n                    createGroup(this.name.valueOf()).then((res) => {\n                        if (res.status === true) {\n                            this.onLoad()\n                        }\n                    })\n                    this.show = false;\n                    this.name = ''\n                }\n\n            },\n\n            openChat(id) {\n                this.$router.push('/groupChat/' + id)\n            }\n        },\n    };\n</script>\n\n<style scoped>\n</style>"],"sourceRoot":"src/views/index/components"}]}