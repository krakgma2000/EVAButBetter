{"remainingRequest":"/Users/ttss/respository/nature language/vchat-master/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ttss/respository/nature language/vchat-master/src/views/index/components/groups.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/ttss/respository/nature language/vchat-master/src/views/index/components/groups.vue","mtime":1597310728000},{"path":"/Users/ttss/respository/nature language/vchat-master/node_modules/cache-loader/dist/cjs.js","mtime":1677266736571},{"path":"/Users/ttss/respository/nature language/vchat-master/node_modules/babel-loader/lib/index.js","mtime":1677266736718},{"path":"/Users/ttss/respository/nature language/vchat-master/node_modules/cache-loader/dist/cjs.js","mtime":1677266736571},{"path":"/Users/ttss/respository/nature language/vchat-master/node_modules/vue-loader/lib/index.js","mtime":1677266736893}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7Y3JlYXRlR3JvdXAsIGdldEdyb3VwfSBmcm9tICIuLi8uLi8uLi9hcGkvZ3JvdXAiOwppbXBvcnQge2NoZWNrR3JvdXBOYW1lfSBmcm9tICIuLi8uLi8uLi91dGlscy9jaGVjayI7CgpleHBvcnQgZGVmYXVsdCB7CiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHNob3c6IGZhbHNlLAogICAgICAgICAgICBuYW1lOiAnJywKICAgICAgICAgICAgbGlzdDogW10sCiAgICAgICAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICAgICAgICBmaW5pc2hlZDogZmFsc2UsCiAgICAgICAgICAgIHNlYXJjaFZhbHVlOiAnJwogICAgICAgIH07CiAgICB9LAoKICAgIG1vdW50ZWQoKSB7CgogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICBvbkxvYWQoKSB7CiAgICAgICAgICAgIGdldEdyb3VwKCkudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAgICAgICBpZiAocmVzLnN0YXR1cyA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgICAgICAgIHRoaXMubGlzdCA9IHJlcy5kYXRhLmdyb3VwcwogICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZpbmlzaGVkID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgIH0sIDgwMCkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICB9LAoKICAgICAgICByZWZyZXNoKCkgewogICAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgICB9LAoKICAgICAgICBvblN1Ym1pdCgpIHsKICAgICAgICAgICAgaWYgKGNoZWNrR3JvdXBOYW1lKHRoaXMubmFtZS52YWx1ZU9mKCkpLnZhbHVlT2YoKSkgewogICAgICAgICAgICAgICAgY3JlYXRlR3JvdXAodGhpcy5uYW1lLnZhbHVlT2YoKSkudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT09IHRydWUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkxvYWQoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICB0aGlzLnNob3cgPSBmYWxzZTsKICAgICAgICAgICAgICAgIHRoaXMubmFtZSA9ICcnCiAgICAgICAgICAgIH0KCiAgICAgICAgfSwKCiAgICAgICAgb3BlbkNoYXQoaWQpIHsKICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9ncm91cENoYXQvJyArIGlkKQogICAgICAgIH0KICAgIH0sCn07Cg=="},{"version":3,"sources":["groups.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2DA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA","file":"groups.vue","sourceRoot":"src/views/index/components","sourcesContent":["<template>\n    <div>\n        <van-nav-bar class=\"index-header\" :border=false>\n            <template #left>\n                <h1>Chats</h1>\n            </template>\n            <template #right>\n                <van-button\n                        @click=\"refresh\"\n                        :round=\"true\"\n                        color=\"linear-gradient(to right, #4bb0ff, #6149f6)\"\n                        size=\"small\">\n                    <van-icon name=\"plus\" style=\"font-weight: 700;\" color=\"#FFFFFF\"/>\n                    <b style=\"color: #d4f3ef;padding-left: 3px;margin-top: -10px\">Refresh</b>\n                </van-button>\n            </template>\n        </van-nav-bar>\n        <van-contact-card\n                add-text=\"新建群聊\"\n                @click=\"show = true\"\n        />\n        <van-popup v-model=\"show\" position=\"left\" :style=\"{ width: '50%',height: '100%' }\">\n            <van-form @submit=\"onSubmit\" style=\"margin-top: 50px\">\n                <van-field\n                        v-model=\"name\"\n                        placeholder=\"群聊名称\"\n                        :rules=\"[{ required: true, message: '请填写群聊名称' }]\"\n                />\n                <div style=\"margin: 16px;\">\n                    <van-button round block type=\"info\" native-type=\"submit\">\n                        提交\n                    </van-button>\n                </div>\n            </van-form>\n        </van-popup>\n        <van-list\n                class=\"user-list\"\n                style=\"margin-top: 20px\"\n                v-model=\"loading\"\n                :finished=\"finished\"\n                finished-text=\"没有更多了\"\n                @load=\"onLoad\"\n        >\n            <div v-for=\"(item,index) in list\" :key=\"index\" class=\"user-list-item\" @click=\"openChat(item.id)\">\n                <van-icon\n                        style=\"margin-right: 3px;\"\n                        name=\"https://img.yzcdn.cn/vant/cat.jpeg\"\n                        size=\"50\"/>\n                <div style=\"margin-top: 8px\">\n                    <div class=\"item-user-nickname\">{{item.name}}</div>\n                    <div class=\"item-user-time\">{{item.time}}</div>\n                    <div class=\"item-user-des\">成员 ({{item.number}})</div>\n                </div>\n            </div>\n        </van-list>\n    </div>\n</template>\n\n<script>\n    import {createGroup, getGroup} from \"../../../api/group\";\n    import {checkGroupName} from \"../../../utils/check\";\n\n    export default {\n        data() {\n            return {\n                show: false,\n                name: '',\n                list: [],\n                loading: false,\n                finished: false,\n                searchValue: ''\n            };\n        },\n\n        mounted() {\n\n        },\n        methods: {\n            onLoad() {\n                getGroup().then((res) => {\n                    if (res.status === true) {\n                        this.list = res.data.groups\n                        setTimeout(() => {\n                            this.finished = true\n                        }, 800)\n                    }\n                })\n            },\n\n            refresh() {\n                location.reload();\n            },\n\n            onSubmit() {\n                if (checkGroupName(this.name.valueOf()).valueOf()) {\n                    createGroup(this.name.valueOf()).then((res) => {\n                        if (res.status === true) {\n                            this.onLoad()\n                        }\n                    })\n                    this.show = false;\n                    this.name = ''\n                }\n\n            },\n\n            openChat(id) {\n                this.$router.push('/groupChat/' + id)\n            }\n        },\n    };\n</script>\n\n<style scoped>\n</style>"]}]}